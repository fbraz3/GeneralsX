{
	"version": "2.0.0",
	"tasks": [
		{
			"label": "Configure (Linux Docker, linux64-deploy)",
			"type": "shell",
			"command": "./scripts/docker-configure-linux.sh linux64-deploy",
			"isBackground": false,
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Build GeneralsXZH (Linux Docker)",
			"type": "shell",
			"command": "./scripts/docker-build-linux-zh.sh linux64-deploy",
			"isBackground": false,
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Build GeneralsX (Linux Docker)",
			"type": "shell",
			"command": "./scripts/docker-build-linux-generals.sh linux64-deploy",
			"isBackground": false,
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Deploy GeneralsXZH (Linux)",
			"type": "shell",
			"command": "./scripts/deploy-linux-zh.sh",
			"isBackground": false,
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": false,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Pipeline: Build + Deploy + Run ZH (Linux)",
			"type": "shell",
			"command": "./scripts/docker-build-linux-zh.sh linux64-deploy && ./scripts/deploy-linux-zh.sh && ./scripts/run-linux-zh.sh -win",
			"isBackground": false,
			"group": "test",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Pipeline: Docker Build ZH (Full)",
			"type": "shell",
			"command": "./scripts/docker-build-linux-zh.sh linux64-deploy",
			"isBackground": false,
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Build Windows (MinGW Docker)",
			"type": "shell",
			"command": "./scripts/docker-build-mingw-zh.sh mingw-w64-i686",
			"isBackground": false,
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Validate: Check Docker Prerequisites",
			"type": "shell",
			"command": "echo 'Checking Docker installation...' && docker --version && docker run --rm hello-world || echo 'ERROR: Docker not working. Install: brew install --cask docker'",
			"isBackground": false,
			"group": "test",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Docker: Build Images (All)",
			"type": "shell",
			"command": "./scripts/docker-build-images.sh all",
			"isBackground": false,
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Docker: Build Linux Builder Image",
			"type": "shell",
			"command": "./scripts/docker-build-images.sh linux",
			"isBackground": false,
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Docker: Build MinGW Builder Image",
			"type": "shell",
			"command": "./scripts/docker-build-images.sh mingw",
			"isBackground": false,
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Test: Smoke Test GeneralsXZH (Linux Docker)",
			"type": "shell",
			"command": "./scripts/docker-smoke-test-zh.sh linux64-deploy",
			"isBackground": false,
			"group": "test",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Run GeneralsXZH (Linux)",
			"type": "shell",
			"command": "./scripts/run-linux-zh.sh -win",
			"isBackground": false,
			"group": "test",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": false,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Docs: Update Dev Blog",
			"type": "shell",
			"command": "code docs/DEV_BLOG/2026-02-DIARY.md",
			"isBackground": false,
			"group": "none",
			"presentation": {
				"reveal": "never",
				"panel": "shared"
			},
			"problemMatcher": []
		},
		{
			"label": "Debug GeneralsXZH (Linux GDB, Backtrace)",
			"type": "shell",
			"command": "mkdir -p logs && gdb -batch -ex \"run -win\" -ex \"bt full\" -ex \"info locals\" -ex \"frame 0\" -ex \"list\" -ex \"thread apply all bt\" ./build/linux64-deploy/GeneralsMD/GeneralsXZH 2>&1 | tee logs/gdb.log",
			"isBackground": false,
			"group": "test",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": true
			},
			"problemMatcher": []
		},
		{
			"label": "Configure (Windows win64-modern DXVK+SDL3+OpenAL)",
			"type": "shell",
			"command": ".\\scripts\\configure_cmake_modern.ps1",
			"isBackground": false,
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Build GeneralsXZH (win64-modern DXVK+SDL3+OpenAL)",
			"type": "shell",
			"command": ".\\scripts\\build_zh_modern.ps1",
			"isBackground": false,
			"group": {
				"kind": "build",
				"isDefault": true
			},
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Build GeneralsX (win64-modern DXVK+SDL3+OpenAL)",
			"type": "shell",
			"command": ".\\scripts\\build_zh_modern.ps1 -Generals",
			"isBackground": false,
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Deploy GeneralsXZH (win64-modern)",
			"type": "shell",
			"command": ".\\scripts\\deploy_zh_modern.ps1 -Preset win64-modern",
			"isBackground": false,
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Deploy GeneralsX (win64-modern)",
			"type": "shell",
			"command": ".\\scripts\\deploy_zh_modern.ps1 -Preset win64-modern -Generals",
			"isBackground": false,
			"group": "build",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Run GeneralsXZH (win64-modern windowed)",
			"type": "shell",
			"command": ".\\scripts\\run_zh_modern.ps1",
			"isBackground": false,
			"group": "test",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Run GeneralsX (win64-modern windowed)",
			"type": "shell",
			"command": ".\\scripts\\run_zh_modern.ps1 -Generals",
			"isBackground": false,
			"group": "test",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Pipeline: Configure→Build→Deploy→Run (win64-modern ZH)",
			"type": "shell",
			"command": ".\\scripts\\pipeline_win64_modern.ps1",
			"isBackground": false,
			"group": "test",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		},
		{
			"label": "Pipeline: Configure→Build→Deploy→Run (win64-modern Generals)",
			"type": "shell",
			"command": ".\\scripts\\pipeline_win64_modern.ps1 -Generals",
			"isBackground": false,
			"group": "test",
			"presentation": {
				"reveal": "always",
				"panel": "dedicated",
				"showReuseMessage": false,
				"clear": true,
				"focus": false
			},
			"problemMatcher": []
		}
	]
}
