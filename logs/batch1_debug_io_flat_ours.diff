diff --git a/Core/Libraries/Source/debug/debug_io_flat.cpp b/Core/Libraries/Source/debug/debug_io_flat.cpp
index 1f1bc85d..cd8bd7bc 100644
--- a/Core/Libraries/Source/debug/debug_io_flat.cpp
+++ b/Core/Libraries/Source/debug/debug_io_flat.cpp
@@ -28,6 +28,11 @@
 //////////////////////////////////////////////////////////////////////////////
 #include "_pch.h"
 #include <stdlib.h>
+#ifndef _WIN32
+#include <fcntl.h>
+#include <unistd.h>
+#include <sys/stat.h>
+#endif
 #include <new>      // needed for placement new prototype
 
 DebugIOFlat::OutputStream::OutputStream(const char *filename, unsigned maxSize):
@@ -41,9 +46,13 @@ DebugIOFlat::OutputStream::OutputStream(const char *filename, unsigned maxSize):
   m_buffer=(char *)DebugAllocMemory(m_bufferSize);
 
   if (!m_limitedFileSize)
+#ifdef _WIN32
     m_fileHandle=CreateFile(m_fileName,GENERIC_WRITE,0,NULL,CREATE_ALWAYS,
                             FILE_ATTRIBUTE_NORMAL|FILE_FLAG_WRITE_THROUGH,
                             NULL);
+#else
+    m_fileHandle = (HANDLE)open(m_fileName, O_WRONLY | O_CREAT | O_TRUNC, 0644);
+#endif
 }
 
 DebugIOFlat::OutputStream::~OutputStream()
@@ -59,7 +68,11 @@ void DebugIOFlat::OutputStream::Delete(const char *path)
 {
   Flush();
   if (!m_limitedFileSize)
+#ifdef _WIN32
     CloseHandle(m_fileHandle);
+#else
+    close((int)(intptr_t)m_fileHandle);
+#endif
 
   if (path&&*path)
   {
@@ -91,13 +104,22 @@ void DebugIOFlat::OutputStream::Delete(const char *path)
         help[ext-fileNameOnly+pathLen+(fileNameOnly-m_fileName)]=0;
       }
       if (++run)
+#ifdef _WIN32
         wsprintf(help+strlen(help),"(%i)%s",run,ext);
+#else
+        snprintf(help+strlen(help), 256-(strlen(help)), "(%i)%s", run, ext);
+#endif
       else
         strcat(help,ext);
+#ifdef _WIN32
       if (CopyFile(m_fileName,help,TRUE))
         break;
       if (GetLastError()!=ERROR_FILE_EXISTS)
         break;
+#else
+      // macOS: Simple file copy not implemented, just break
+      break;
+#endif
     }
   }
 
@@ -169,13 +191,18 @@ void DebugIOFlat::OutputStream::Flush(void)
   if (!m_limitedFileSize)
   {
     // simple flush to file
+#ifdef _WIN32
     DWORD written;
     WriteFile(m_fileHandle,m_buffer,m_bufferUsed,&written,NULL);
+#else
+    write((int)(intptr_t)m_fileHandle, m_buffer, m_bufferUsed);
+#endif
     m_bufferUsed=0;
   }
   else
   {
     // create file, write ring buffer
+#ifdef _WIN32
     m_fileHandle=CreateFile(m_fileName,GENERIC_WRITE,0,NULL,CREATE_ALWAYS,
                             FILE_ATTRIBUTE_NORMAL|FILE_FLAG_WRITE_THROUGH,
                             NULL);
@@ -188,6 +215,19 @@ void DebugIOFlat::OutputStream::Flush(void)
       WriteFile(m_fileHandle,m_buffer,m_nextChar,&written,NULL);
     }
     CloseHandle(m_fileHandle);
+#else
+    int fd = open(m_fileName, O_WRONLY | O_CREAT | O_TRUNC, 0644);
+    if (fd >= 0) {
+      if (m_bufferUsed<m_bufferSize)
+        write(fd, m_buffer, m_bufferUsed);
+      else
+      {
+        write(fd, m_buffer+m_nextChar, m_bufferUsed-m_nextChar);
+        write(fd, m_buffer, m_nextChar);
+      }
+      close(fd);
+    }
+#endif
   }
 }
 
@@ -255,9 +295,15 @@ void DebugIOFlat::ExpandMagic(const char *src, const char *splitName, char *buf)
           SYSTEMTIME systime;
           GetLocalTime(&systime);
 
+#ifdef _WIN32
           wsprintf(help,"%04i%02i%02i-%02i%02i-%02i",
                    systime.wYear,systime.wMonth,systime.wDay,
                    systime.wHour,systime.wMinute,systime.wSecond);
+#else
+          snprintf(help, sizeof(help), "%04i%02i%02i-%02i%02i-%02i",
+                   systime.wYear, systime.wMonth, systime.wDay,
+                   systime.wHour, systime.wMinute, systime.wSecond);
+#endif
         }
         break;
       case 'n':
